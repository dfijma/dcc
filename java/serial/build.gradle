apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'

sourceCompatibility = 1.11
version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'xom', name: 'xom', version: '1.2.5'
    // https://mvnrepository.com/artifact/javax.comm/comm
    // https://mvnrepository.com/artifact/org.rxtx/rxtx
    compile 'com.neuronrobotics:nrjavaserial:3.12.1'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.4'
    testCompile 'junit:junit:4.12'
}

idea.project.ipr {
    // add git roots
    withXml { provider ->
        def gitSettings = provider.node.component.find { it.@name == 'VcsDirectoryMappings' }
        // remove existing mappings from ipr file
        gitSettings.children().clear()
        // add new mappings
        gitSettings.appendNode 'mapping', [directory: "${project.projectDir}", vcs: "Git"]
	}
}

mainClassName = 'net.fijma.serial.Main'

